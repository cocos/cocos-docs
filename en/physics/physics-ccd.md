# Continuous Collision Detection

在 3.3 版本之后， Cocos Creator 为用户提供了一套基础的连续碰撞检测（简称为 CCD）的功能支持，可以用来支持类如高速运动的子弹，也可以用来改善穿透现象。

## CCD 简介

连续碰撞检测是一种避免在离散时空中出现穿透现象、碰撞数据不精确的技术，而穿透现象通常发生在高速运动物体上，例如子弹类的物体。这是由于计算机模拟都是基于离散化的形式，当速度过快时，就会导致单次积分的能量过大，此时很可能就穿越了本应该碰撞的物体，如下图所示：

![线性穿透现象](img/physics-ccd.jpg)

小球在经过一次步进后，从 T0 时刻运动到了 T1 时刻，显然可以看出错过了本该在 T0.5 时刻碰撞的黑色方块，这是典型的因线性速度过快而导致的线性穿透现象。

## 解决线性穿透问题

穿透是由于物体离散的运动而导致的现象，三维物体的运动可以拆分为移动和旋转。而线性穿透问题，是指因物体离散的移动而导致的穿透现象。

这可以通过开启刚体组件的 `useCCD` 来避免线性穿透现象，此属性用于控制是否使用该刚体的连续碰撞检测功能。

## 支持情况

由于引擎的支持情况不同，以及性能等因素，部分功能支持情况如下：

- 仅支持动力学刚体
- 仅支持凸类形状
- 不支持旋转穿透
- 有限的事件支持，考虑到性能原因，CCD 产生的事件只支持 `onCollision` 开头的类型
- Bullet 物理只支持单个形状，并且 center 需为零向量
- Cannon 物理只支持球形状
