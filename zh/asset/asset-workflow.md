# 资源工作流

## 导入资源

Creator 提供了三种 **导入资源** 的方式：

- 以新建文件的方式，通过 Cocos Creator 窗口的 **资源管理器** 面板 **创建按钮** 导入资源
- 以复制文件的方式，在操作系统的文件管理器中，将资源文件复制到项目资源文件夹下，之后打开编辑器或激活编辑器窗口会自动刷新 **资源管理器** 的资源列表，完成导入资源。
- 以拖拽文件的方式，从操作系统的文件管理器中拖拽资源文件到 **资源管理器** 面板的某个文件夹位置，完成导入资源。

资源相关的名称如下：

| 名称 | 说明 |
| :--- | :--- |
| dataBase | 数据库 |
| asset-db | 项目资源数据库 |
| internal-db | 内置数据库 |
| uuid | 唯一标识符 |
| meta | 元信息 |

## 同步资源

**资源管理器** 面板中的资源和 **操作系统的文件管理器** 中看到的项目资源文件是同步的，在 **资源管理器** 中对资源的移动、重命名和删除，都会同步到 **操作系统的文件管理器**，反之亦然。

## 资源配置信息 `.meta` 文件

所有资源文件都会在导入时生成一份同名的 `.meta` 后缀的配置文件 这份配置文件提供了该资源在项目中的唯一标识 **uuid** 以及其他的一些配置信息，如图集中的小图引用，贴图资源的裁剪数据等，是识别一份合法资源的必要因素。

在 **资源管理器** 面板中 `.meta` 文件是不可见的，对资源的重命名，移动，删除，都会由编辑器自动同步该资源对应的 `.meta` 文件，以确保配置信息如 **uuid** 等保持不变，即不影响现有的引用。

不推荐直接在 **操作系统的文件管理器** 对资源文件进行操作，如有操作，请同步处理相应的 `.meta` 文件，如下建议：

- 关闭正在使用的编辑器，避免因为文件锁定或资源名称相同导致更新失败。
- 删除，重命名，移动资源时，请连同 `.meta` 文件一起删除，重命名，移动。
- 复制资源时如果连同 `.meta` 文件一起复制，将直接使用复制进来的 `.meta` 文件，而不是再生成新的 `.meta` 文件；如果只复制了资源文件，则会生成对应名称的新的 `.meta` 文件。

## Library 中的资源

资源经过导入后会生成一份新的数据存在项目的 **Library** 文件夹里。在 **Library** 里的文件，其结构和资源是面向引擎的，是最终游戏时需要的格式，即机器友好，但对人的阅读不友好。这块。

当 library 丢失或损坏的时候，只要删除整个 library 文件夹再打开项目，就会重新生成资源库。

## 如何定位资源

一个资源有唯一的 uuid 来定位到该资源，但这种方式不够直观，还有另一种直观的方式：**Database URL** 格式例如 `asset-db` 对应的协议头是 `db://assets`，`internal-db` 对应的协议头是 `db://internal`。

有文件夹层级的资源格式，如 `db://assets/prefabs/fire.prefab`

##  SVN 或 GIT 同步资源

需要注意 `.meta` 文件的换行符，建议统一下团队成员电脑的换行符风格和规则，避免同步项目资源后打开项目，出现了大量的 `.meta` 文件修改
